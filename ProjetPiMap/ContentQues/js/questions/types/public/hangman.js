$( document ).ready(function() {
  var append = false;
  var lost = true;
  $("div[id^=result-]").toggle();
  $("button[name^=a-]").click(function() {
    $("button[name='" + this.name + "']").attr("disabled", "disabled");
    $("button[name='letter-" + this.name + "']").empty();
    $("button[name='letter-" + this.name + "']").append('A');
  });
  $("button[name^=b-]").click(function() {
    $("button[name='" + this.name + "']").attr("disabled", "disabled");
    $("button[name='letter-" + this.name + "']").empty();
    $("button[name='letter-" + this.name + "']").append('B');
  });
  $("button[name^=c-]").click(function() {
    $("button[name='" + this.name + "']").attr("disabled", "disabled");
    $("button[name='letter-" + this.name + "']").empty();
    $("button[name='letter-" + this.name + "']").append('C');
  });
  $("button[name^=d-]").click(function() {
    $("button[name='" + this.name + "']").attr("disabled", "disabled");
    $("button[name='letter-" + this.name + "']").empty();
    $("button[name='letter-" + this.name + "']").append('D');
  });
  $("button[name^=e-]").click(function() {
    $("button[name='" + this.name + "']").attr("disabled", "disabled");
    $("button[name='letter-" + this.name + "']").empty();
    $("button[name='letter-" + this.name + "']").append('E');
  });
  $("button[name^=f-]").click(function() {
    $("button[name='" + this.name + "']").attr("disabled", "disabled");
    $("button[name='letter-" + this.name + "']").empty();
    $("button[name='letter-" + this.name + "']").append('F');
  });
  $("button[name^=g-]").click(function() {
    $("button[name='" + this.name + "']").attr("disabled", "disabled");
    $("button[name='letter-" + this.name + "']").empty();
    $("button[name='letter-" + this.name + "']").append('G');
  });
  $("button[name^=h-]").click(function() {
    $("button[name='" + this.name + "']").attr("disabled", "disabled");
    $("button[name='letter-" + this.name + "']").empty();
    $("button[name='letter-" + this.name + "']").append('H');
  });
  $("button[name^=i-]").click(function() {
    $("button[name='" + this.name + "']").attr("disabled", "disabled");
    $("button[name='letter-" + this.name + "']").empty();
    $("button[name='letter-" + this.name + "']").append('I');
  });
  $("button[name^=j-]").click(function() {
    $("button[name='" + this.name + "']").attr("disabled", "disabled");
    $("button[name='letter-" + this.name + "']").empty();
    $("button[name='letter-" + this.name + "']").append('J');
  });
  $("button[name^=k-]").click(function() {
    $("button[name='" + this.name + "']").attr("disabled", "disabled");
    $("button[name='letter-" + this.name + "']").empty();
    $("button[name='letter-" + this.name + "']").append('K');
  });
  $("button[name^=l-]").click(function() {
    $("button[name='" + this.name + "']").attr("disabled", "disabled");
    $("button[name='letter-" + this.name + "']").empty();
    $("button[name='letter-" + this.name + "']").append('L');
  });
  $("button[name^=m-]").click(function() {
    $("button[name='" + this.name + "']").attr("disabled", "disabled");
    $("button[name='letter-" + this.name + "']").empty();
    $("button[name='letter-" + this.name + "']").append('M');
  });
  $("button[name^=n-]").click(function() {
    $("button[name='" + this.name + "']").attr("disabled", "disabled");
    $("button[name='letter-" + this.name + "']").empty();
    $("button[name='letter-" + this.name + "']").append('N');
  });
  $("button[name^=o-]").click(function() {
    $("button[name='" + this.name + "']").attr("disabled", "disabled");
    $("button[name='letter-" + this.name + "']").empty();
    $("button[name='letter-" + this.name + "']").append('O');
  });
  $("button[name^=p-]").click(function() {
    $("button[name='" + this.name + "']").attr("disabled", "disabled");
    $("button[name='letter-" + this.name + "']").empty();
    $("button[name='letter-" + this.name + "']").append('P');
  });
  $("button[name^=q-]").click(function() {
    $("button[name='" + this.name + "']").attr("disabled", "disabled");
    $("button[name='letter-" + this.name + "']").empty();
    $("button[name='letter-" + this.name + "']").append('Q');
  });
  $("button[name^=r-]").click(function() {
    $("button[name='" + this.name + "']").attr("disabled", "disabled");
    $("button[name='letter-" + this.name + "']").empty();
    $("button[name='letter-" + this.name + "']").append('R');
  });
  $("button[name^=s-]").click(function() {
    $("button[name='" + this.name + "']").attr("disabled", "disabled");
    $("button[name='letter-" + this.name + "']").empty();
    $("button[name='letter-" + this.name + "']").append('S');
  });
  $("button[name^=t-]").click(function() {
    $("button[name='" + this.name + "']").attr("disabled", "disabled");
    $("button[name='letter-" + this.name + "']").empty();
    $("button[name='letter-" + this.name + "']").append('T');
  });
  $("button[name^=u-]").click(function() {
    $("button[name='" + this.name + "']").attr("disabled", "disabled");
    $("button[name='letter-" + this.name + "']").empty();
    $("button[name='letter-" + this.name + "']").append('U');
  });
  $("button[name^=v-]").click(function() {
    $("button[name='" + this.name + "']").attr("disabled", "disabled");
    $("button[name='letter-" + this.name + "']").empty();
    $("button[name='letter-" + this.name + "']").append('V');
  });
  $("button[name^=w-]").click(function() {
    $("button[name='" + this.name + "']").attr("disabled", "disabled");
    $("button[name='letter-" + this.name + "']").empty();
    $("button[name='letter-" + this.name + "']").append('W');
  });
  $("button[name^=x-]").click(function() {
    $("button[name='" + this.name + "']").attr("disabled", "disabled");
    $("button[name='letter-" + this.name + "']").empty();
    $("button[name='letter-" + this.name + "']").append('X');
  });
  $("button[name^=y-]").click(function() {
    $("button[name='" + this.name + "']").attr("disabled", "disabled");
    $("button[name='letter-" + this.name + "']").empty();
    $("button[name='letter-" + this.name + "']").append('Y');
  });
  $("button[name^=z-]").click(function() {
    $("button[name='" + this.name + "']").attr("disabled", "disabled");
    $("button[name='letter-" + this.name + "']").empty();
    $("button[name='letter-" + this.name + "']").append('Z');
  });
  $("button[name^=#01-]").click(function() {
    $("button[name='" + this.name + "']").attr("disabled", "disabled");
    $("button[name='letter-" + this.name + "']").empty();
    $("button[name='letter-" + this.name + "']").append('Á');
  });
  $("button[name^=#02-]").click(function() {
    $("button[name='" + this.name + "']").attr("disabled", "disabled");
    $("button[name='letter-" + this.name + "']").empty();
    $("button[name='letter-" + this.name + "']").append('É');
  });
  $("button[name^=#03-]").click(function() {
    $("button[name='" + this.name + "']").attr("disabled", "disabled");
    $("button[name='letter-" + this.name + "']").empty();
    $("button[name='letter-" + this.name + "']").append('Í');
  });
  $("button[name^=#04-]").click(function() {
    $("button[name='" + this.name + "']").attr("disabled", "disabled");
    $("button[name='letter-" + this.name + "']").empty();
    $("button[name='letter-" + this.name + "']").append('Ó');
  });
  $("button[name^=#05-]").click(function() {
    $("button[name='" + this.name + "']").attr("disabled", "disabled");
    $("button[name='letter-" + this.name + "']").empty();
    $("button[name='letter-" + this.name + "']").append('Ú');
  });
  $("button[name^=#06-]").click(function() {
    $("button[name='" + this.name + "']").attr("disabled", "disabled");
    $("button[name='letter-" + this.name + "']").empty();
    $("button[name='letter-" + this.name + "']").append('À');
  });
  $("button[name^=#07-]").click(function() {
    $("button[name='" + this.name + "']").attr("disabled", "disabled");
    $("button[name='letter-" + this.name + "']").empty();
    $("button[name='letter-" + this.name + "']").append('È');
  });
  $("button[name^=#08-]").click(function() {
    $("button[name='" + this.name + "']").attr("disabled", "disabled");
    $("button[name='letter-" + this.name + "']").empty();
    $("button[name='letter-" + this.name + "']").append('Ì');
  });
  $("button[name^=#09-]").click(function() {
    $("button[name='" + this.name + "']").attr("disabled", "disabled");
    $("button[name='letter-" + this.name + "']").empty();
    $("button[name='letter-" + this.name + "']").append('Ò');
  });
  $("button[name^=#10-]").click(function() {
    $("button[name='" + this.name + "']").attr("disabled", "disabled");
    $("button[name='letter-" + this.name + "']").empty();
    $("button[name='letter-" + this.name + "']").append('Ù');
  });
  $("button[name^=#11-]").click(function() {
    $("button[name='" + this.name + "']").attr("disabled", "disabled");
    $("button[name='letter-" + this.name + "']").empty();
    $("button[name='letter-" + this.name + "']").append('Â');
  });
  $("button[name^=#12-]").click(function() {
    $("button[name='" + this.name + "']").attr("disabled", "disabled");
    $("button[name='letter-" + this.name + "']").empty();
    $("button[name='letter-" + this.name + "']").append('Ê');
  });
  $("button[name^=#13-]").click(function() {
    $("button[name='" + this.name + "']").attr("disabled", "disabled");
    $("button[name='letter-" + this.name + "']").empty();
    $("button[name='letter-" + this.name + "']").append('Î');
  });
  $("button[name^=#14-]").click(function() {
    $("button[name='" + this.name + "']").attr("disabled", "disabled");
    $("button[name='letter-" + this.name + "']").empty();
    $("button[name='letter-" + this.name + "']").append('Ô');
  });
  $("button[name^=#15-]").click(function() {
    $("button[name='" + this.name + "']").attr("disabled", "disabled");
    $("button[name='letter-" + this.name + "']").empty();
    $("button[name='letter-" + this.name + "']").append('Û');
  });
  $("button[name^=#16-]").click(function() {
    $("button[name='" + this.name + "']").attr("disabled", "disabled");
    $("button[name='letter-" + this.name + "']").empty();
    $("button[name='letter-" + this.name + "']").append('Ä');
  });
  $("button[name^=#17-]").click(function() {
    $("button[name='" + this.name + "']").attr("disabled", "disabled");
    $("button[name='letter-" + this.name + "']").empty();
    $("button[name='letter-" + this.name + "']").append('Ë');
  });
  $("button[name^=#18-]").click(function() {
    $("button[name='" + this.name + "']").attr("disabled", "disabled");
    $("button[name='letter-" + this.name + "']").empty();
    $("button[name='letter-" + this.name + "']").append('Ï');
  });
  $("button[name^=#19-]").click(function() {
    $("button[name='" + this.name + "']").attr("disabled", "disabled");
    $("button[name='letter-" + this.name + "']").empty();
    $("button[name='letter-" + this.name + "']").append('Ö');
  });
  $("button[name^=#20-]").click(function() {
    $("button[name='" + this.name + "']").attr("disabled", "disabled");
    $("button[name='letter-" + this.name + "']").empty();
    $("button[name='letter-" + this.name + "']").append('Ü');
  });
  $("button[name^=#21-]").click(function() {
    $("button[name='" + this.name + "']").attr("disabled", "disabled");
    $("button[name='letter-" + this.name + "']").empty();
    $("button[name='letter-" + this.name + "']").append('Ç');
  });
  $("button[name^=#22-]").click(function() {
    $("button[name='" + this.name + "']").attr("disabled", "disabled");
    $("button[name='letter-" + this.name + "']").empty();
    $("button[name='letter-" + this.name + "']").append('Œ');
  });
  $("button[attr*=key-]").click(function() {
    if(append==false){
      var x = $("label[id='attempts-" +  $(this).attr('attr').substring(4) + "']").text();
      var val = parseInt(x) - 1;
      if(val!=0){
        $("label[id='attempts-" +  $(this).attr('attr').substring(4) + "']").empty();
        $("label[id='attempts-" +  $(this).attr('attr').substring(4) + "']").append(val);
      }else{
        $("div[id^=result-lost-"+ $(this).attr('attr').substring(4) +"]").toggle();
        lost=true;
        $("label[id='attempts-" +  $(this).attr('attr').substring(4) + "']").empty();
        $("label[id='attempts-" +  $(this).attr('attr').substring(4) + "']").append($("input[id='total-attempts-" +  $(this).attr('attr').substring(4) + "']").val());
        $("button[attr="+$(this).attr('attr')+"]").attr("disabled",false);
        for(k = 97;k<123;k++){
          $("button[name='letter-"+String.fromCharCode(k)+"-" + $(this).attr('attr').substring(4) + "']").empty();
          $("button[name='letter-"+String.fromCharCode(k)+"-" + $(this).attr('attr').substring(4) + "']").append("&nbsp;");
        }
        for(k = 0;k<23;k++){
          $("button[name='letter-#"+ FormatNumberLength(k, 2) +"-" + $(this).attr('attr').substring(4) + "']").empty();
          $("button[name='letter-#"+ FormatNumberLength(k, 2) +"-" + $(this).attr('attr').substring(4) + "']").append("&nbsp;");
        }
        $("input[id='empty-spaces-" +  $(this).attr('attr').substring(4) + "']").val($("input[id='total-spaces-" +  $(this).attr('attr').substring(4) + "']").val());
      }
    }else{
      append=false;
      lost = false;
    }
  });
  (function($) {
    var origAppend = $.fn.append;

    $.fn.append = function () {
        return origAppend.apply(this, arguments).trigger("append");
    };
  })(jQuery);
  $("button[name^='letter-'").bind('append',function(){
    var x = $("input[id='empty-spaces-" +  $(this).attr('attr').substring(6) + "']").val();
    var val = parseInt(x) - 1;
    $("input[id='empty-spaces-" +  $(this).attr('attr').substring(6) + "']").val(val);
    if(val==0&&lost==false){
      $("div[id^=result-lost-"+ $(this).attr('attr').substring(6) +"]").hide();
      $("button[attr=key-"+$(this).attr('attr').substring(6)+"]").attr("disabled",true );
      $("div[id^=result-won-"+$(this).attr('attr').substring(6)+"]").toggle();
    }
    append = true;
  });
});

function FormatNumberLength(num, length) {
    var r = "" + num;
    while (r.length < length) {
        r = "0" + r;
    }
    return r;
}
